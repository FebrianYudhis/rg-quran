<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Bahasa Indonesia By Febrian</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>

<!-- Dark Mode Ea -->
<body class="bg-dark">

    <div class="container mt-4">
        <div class="card">
            <div class="card-header">
                <div class="row d-flex align-items-center">
                    <div class="col-md-10" id="judul"></div>
                    <div class="col-md-2"><a href="#sound" class="btn btn-primary w-100">Kebawah</a></div>
                </div>
            </div>
            <div class="card-body">
                <div id="data">
                    
                </div>
            </div>
            <div class="card-footer text-muted border-top-0">
                <div class="row d-flex align-items-center">
                    <div class="col-md-10" id="sound"></div>
                    <div class="col-md-2"><a href="#judul" class="btn btn-primary w-100">Keatas</a></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Kita Seleksi Bungkus Kosong Tadi 
        var judul = document.getElementById("judul");
        var isi = document.getElementById("data");
        var sound = document.getElementById("sound");

        // Kita Kasih Variabel Isi Kosong
        var tulisan = '';

        // Kita Ambil Query Urlnya 
        const ambilQuery = window.location.search;

        // Kita Ambil Parameter Dari Querynya
        const urlParams = new URLSearchParams(ambilQuery);

        //Tada,Kita Dapat Yang Kita Mau
        const surah = urlParams.get('surah')

        // Kita Async Data Surahnya 
        fetch(`https://api.npoint.io/99c279bb173a6e28359c/surat/${surah}`)
        .then(res=>res.json())
        .then(data=>{
            for(i=0;i<data.length;i++){
                tulisan += `
                <div class="row mb-4">
                    <div class="col-md-2 d-flex align-items-center justify-content-center">
                        ${data[i]['nomor']}
                    </div>
                    <div class="col-md-10 text-center">
                        <p>${data[i]['ar']}</p>
                        <p>${data[i]['tr']}</p>
                        <p>${data[i]['id']}</p>
                    </div>
                </div>
                <hr>
                `;
            }
            isi.innerHTML = tulisan;
        })
        .catch(err=>console.log(err));

        fetch("https://api.npoint.io/99c279bb173a6e28359c/data")
        .then(res=>res.json())
        .then(data=>{
            judul.innerHTML = `${data[surah-1]['nama']} (${data[surah-1]['arti']}) - ${data[surah-1]['ayat']} Ayat`;
            sound.innerHTML = `
            <audio controls class="w-100">
                <source src="${data[surah-1]['audio']}" type="audio/mpeg">
                Browser Anda Tidak Support
            </audio>
            `
        })
        .catch(err=>console.log(err))
    </script>
</body>
</html>